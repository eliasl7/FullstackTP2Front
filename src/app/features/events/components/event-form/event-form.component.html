<form [formGroup]="eventForm" (ngSubmit)="onSubmit()" class="event-form">
  <div class="form-group">
    <label for="label">Event Name</label>
    <input
      id="label"
      type="text"
      formControlName="label"
      [class.error]="
        eventForm.get('label')?.invalid && eventForm.get('label')?.touched
      "
    />

    <div
      class="error-message"
      *ngIf="eventForm.get('label')?.invalid && eventForm.get('label')?.touched"
    >
      <span *ngIf="eventForm.get('label')?.errors?.['required']"
        >Name is required</span
      >
      <span *ngIf="eventForm.get('label')?.errors?.['minlength']"
        >Name must be at least 3 characters</span
      >
    </div>
  </div>

  <div class="form-group">
    <label for="startDate">Start Date</label>
    <input
      id="startDate"
      type="date"
      formControlName="startDate"
      [class.error]="
        eventForm.get('startDate')?.invalid &&
        eventForm.get('startDate')?.touched
      "
    />

    <div
      class="error-message"
      *ngIf="
        eventForm.get('startDate')?.invalid &&
        eventForm.get('startDate')?.touched
      "
    >
      <span *ngIf="eventForm.get('startDate')?.errors?.['required']"
        >Start date is required</span
      >
      <span *ngIf="eventForm.get('startDate')?.errors?.['pastDate']"
        >Start date must be in the future</span
      >
    </div>
  </div>

  <div class="form-group">
    <label for="endDate">End Date</label>
    <input
      id="endDate"
      type="date"
      formControlName="endDate"
      [class.error]="
        eventForm.get('endDate')?.invalid && eventForm.get('endDate')?.touched
      "
    />

    <div
      class="error-message"
      *ngIf="
        eventForm.get('endDate')?.invalid && eventForm.get('endDate')?.touched
      "
    >
      <span *ngIf="eventForm.get('endDate')?.errors?.['required']"
        >End date is required</span
      >
      <span *ngIf="eventForm.get('endDate')?.errors?.['pastDate']"
        >End date must be in the future</span
      >
    </div>
  </div>

  <div class="error-message" *ngIf="eventForm.errors?.['dateRange']">
    {{ eventForm.errors["dateRange"] }}
  </div>

  <div class="form-actions">
    <button type="button" (click)="cancel.emit()">Cancel</button>
    <button type="submit" [disabled]="eventForm.invalid">Save</button>
  </div>
</form>
